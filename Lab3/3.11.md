```c++
#include <stdio.h>

int main() {
    int Choice;
    float totalCost = 0.0;
    float paidAmount;
    float Change;

    do {
        printf("\n--- Vending Machine ---\n");
        printf("1. Coke (15.00)\n");
        printf("2. Water (10.00)\n");
        printf("3. Snack (25.00)\n");
        printf("4. Exit and Pay\n");
        printf("Current total: %.2f\n", totalCost);

        printf("Select item (1-4): ");
        if (scanf("%d", &Choice) != 1) {
            return 1;
        }

        switch (Choice) {
            case 1:
                totalCost += 15.0;
                break;
            case 2:
                totalCost += 10.0;
                break;
            case 3:
                totalCost += 25.0;
                break;
            case 4:
                break;
            default:
                printf("Invalid choice. Please select again.\n");
        }

    } while (Choice != 4);

    if (totalCost > 0.0) {
        printf("\nTotal due: %.2f\n", totalCost);
        printf("Enter paid amount: ");
        if (scanf("%f", &paidAmount) != 1) {
            return 1;
        }

        if (paidAmount >= totalCost) {
            Change = paidAmount - totalCost;
            printf("Purchase successful. Change: %.2f\n", Change);
        } else {
            printf("Insufficient payment. Purchase cancelled.\n");
        }
    } else {
        printf("No items purchased. Goodbye!\n");
    }

    return 0;
}
```
